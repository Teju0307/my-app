{"ast":null,"code":"var _jsxFileName = \"/Users/tejasvigaonkar/my-app/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Wallet, isAddress, parseEther, formatEther, JsonRpcProvider, Contract, parseUnits, formatUnits } from \"ethers\";\nimport { QRCodeCanvas } from \"qrcode.react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\n// --- Constants ---\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ERC20_ABI = [\"function balanceOf(address) view returns (uint256)\", \"function transfer(address to, uint256 value) returns (bool)\", \"function decimals() view returns (uint8)\", \"function symbol() view returns (string)\"];\nconst provider = new JsonRpcProvider(\"https://bsc-testnet-dataseed.bnbchain.org\");\nconst TOKEN_ADDRESSES = {\n  USDT: \"0x787A697324dbA4AB965C58CD33c13ff5eeA6295F\",\n  USDC: \"0x342e3aA1248AB77E319e3331C6fD3f1F2d4B36B1\"\n};\nconst API_URL = \"http://localhost:5001\";\nfunction App() {\n  _s();\n  // --- State variables ---\n  const [walletData, setWalletData] = useState(null);\n  const [walletName, setWalletName] = useState(\"\");\n  const [searchName, setSearchName] = useState(\"\");\n  const [recipient, setRecipient] = useState(\"\");\n  const [amount, setAmount] = useState(\"\");\n  const [tokenType, setTokenType] = useState(\"BNB\");\n  const [balances, setBalances] = useState({\n    BNB: \"...\",\n    USDT: \"...\",\n    USDC: \"...\"\n  });\n  const [txHashInput, setTxHashInput] = useState(\"\");\n  const [txDetails, setTxDetails] = useState(null);\n  const [ledger, setLedger] = useState([]);\n  const [loading, setLoading] = useState({});\n  const [showPrivate, setShowPrivate] = useState(false);\n  const [showQR, setShowQR] = useState(true);\n  const qrRef = useRef();\n\n  // --- Effects ---\n  useEffect(() => {\n    const lastWalletData = localStorage.getItem(\"currentWallet\");\n    if (lastWalletData) {\n      const parsedData = JSON.parse(lastWalletData);\n      setWalletData(parsedData);\n      setSearchName(parsedData.name);\n      handleRefresh(parsedData, false); // Refresh data on load without notification\n    }\n  }, []);\n\n  // --- Helper Functions ---\n  const setLoader = (key, value) => setLoading(prev => ({\n    ...prev,\n    [key]: value\n  }));\n  const notify = (msg, type = \"info\") => toast[type](msg, {\n    theme: \"dark\"\n  });\n  const copyToClipboard = (text, type) => {\n    navigator.clipboard.writeText(text);\n    notify(`üìã ${type} copied!`, \"info\");\n  };\n\n  // --- Core Logic ---\n  const handleRefresh = async (currentWallet = walletData, showNotif = true) => {\n    if (!currentWallet) return;\n    if (showNotif) notify(\"üîÑ Refreshing data...\", \"info\");\n    setLoader(\"refreshing\", true);\n    await Promise.all([fetchAllBalances(currentWallet.address), fetchLedger(currentWallet.address)]);\n    setLoader(\"refreshing\", false);\n  };\n  const generateAndSaveWallet = async () => {\n    // ... (unchanged)\n  };\n  const fetchWalletByName = async () => {\n    if (!searchName.trim()) return notify(\"Enter wallet name to fetch\", \"error\");\n    setLoader(\"fetching\", true);\n    try {\n      const res = await fetch(`${API_URL}/api/wallet/${searchName}`);\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.error);\n      localStorage.setItem(\"currentWallet\", JSON.stringify(data));\n      setWalletData(data);\n      await handleRefresh(data, false);\n    } catch (err) {\n      localStorage.removeItem(\"currentWallet\");\n      localStorage.removeItem(\"currentLedger\");\n      setWalletData(null);\n      setLedger([]);\n      notify(`‚ùå ${err.message}`, \"error\");\n    } finally {\n      setLoader(\"fetching\", false);\n    }\n  };\n  const fetchAllBalances = async address => {\n    setLoader(\"balance\", true);\n    try {\n      const bnbPromise = provider.getBalance(address);\n      const tokenPromises = Object.entries(TOKEN_ADDRESSES).map(async ([symbol, tokenAddress]) => {\n        const tokenContract = new Contract(tokenAddress, ERC20_ABI, provider);\n        const [balance, decimals] = await Promise.all([tokenContract.balanceOf(address), tokenContract.decimals()]);\n        return [symbol, formatUnits(balance, decimals)];\n      });\n      const [bnbBalance, tokenBalances] = await Promise.all([bnbPromise, Promise.all(tokenPromises)]);\n      setBalances({\n        BNB: formatEther(bnbBalance),\n        ...Object.fromEntries(tokenBalances)\n      });\n    } catch (e) {\n      console.error(\"Balance fetch error:\", e);\n      setBalances({\n        BNB: \"Error\",\n        USDT: \"Error\",\n        USDC: \"Error\"\n      });\n    } finally {\n      setLoader(\"balance\", false);\n    }\n  };\n  const sendTokens = async () => {\n    if (!(walletData !== null && walletData !== void 0 && walletData.privateKey) || !isAddress(recipient) || !amount || parseFloat(amount) <= 0) return notify(\"‚ùå Invalid inputs\", \"error\");\n    setLoader(\"sending\", true);\n    const wallet = new Wallet(walletData.privateKey, provider);\n    try {\n      let txResponse;\n      if (tokenType === \"BNB\") {\n        txResponse = await wallet.sendTransaction({\n          to: recipient,\n          value: parseEther(amount)\n        });\n      } else {\n        const tokenContract = new Contract(TOKEN_ADDRESSES[tokenType], ERC20_ABI, wallet);\n        const decimals = await tokenContract.decimals();\n        txResponse = await tokenContract.transfer(recipient, parseUnits(amount, decimals));\n      }\n      notify(\"‚è≥ Transaction sent, awaiting confirmation...\", \"info\");\n      const receipt = await txResponse.wait(); // Wait for 1 confirmation\n\n      if (receipt.status === 0) throw new Error(\"Transaction failed on-chain.\");\n      notify(\"‚úÖ Tx Confirmed! Now saving to ledger...\", \"success\");\n\n      // --- CRITICAL STEP: Log to backend and wait for it to finish ---\n      await logTransaction(receipt.hash, walletData.address, recipient, amount, tokenType);\n      notify(\"üíæ Ledger saved!\", \"success\");\n\n      // --- FINAL STEP: Clear inputs and refresh UI ---\n      setRecipient(\"\");\n      setAmount(\"\");\n      await handleRefresh();\n    } catch (e) {\n      console.error(\"Full transaction error:\", e);\n      notify(`‚ùå ${e.message}`, \"error\");\n    } finally {\n      setLoader(\"sending\", false);\n    }\n  };\n  const logTransaction = async (hash, from, to, amount, token) => {\n    const payload = {\n      walletAddress: from,\n      hash,\n      from,\n      to,\n      amount,\n      token\n    };\n\n    // CRITICAL DEBUGGING LOG: Shows what the frontend is about to send.\n    console.log(\"Frontend sending to /api/ledger with payload:\", payload);\n    const res = await fetch(`${API_URL}/api/ledger`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(payload)\n    });\n    if (!res.ok) {\n      const errData = await res.json();\n      throw new Error(errData.error || \"Failed to save transaction to backend.\");\n    }\n  };\n  const fetchLedger = async address => {\n    // ... (unchanged)\n  };\n  const fetchTransactionDetails = async () => {\n    // ... (unchanged)\n  };\n  const downloadQR = () => {\n    // ... (unchanged)\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: \"top-right\",\n      autoClose: 4000,\n      hideProgressBar: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      style: styles.title,\n      children: \"\\uD83E\\uDD9C Goan Wallet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      style: styles.section,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"\\uD83D\\uDD8A Create wallet name\",\n        value: walletName,\n        onChange: e => setWalletName(e.target.value),\n        style: styles.input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: generateAndSaveWallet,\n        disabled: loading.creating,\n        style: styles.buttonGreen,\n        children: loading.creating ? \"‚è≥ Saving...\" : \"‚úÖ Generate & Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      style: styles.section,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"\\uD83D\\uDD0D Load wallet by name\",\n        value: searchName,\n        onChange: e => setSearchName(e.target.value),\n        style: styles.input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchWalletByName,\n        disabled: loading.fetching,\n        style: styles.buttonBlue,\n        children: loading.fetching ? \"‚è≥ Loading...\" : \"üì• Load Wallet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this), walletData && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.walletBox,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: walletData.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          cursor: \"pointer\"\n        },\n        onClick: () => copyToClipboard(walletData.address, 'Address'),\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\uD83C\\uDFE6 Address:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this), \" \", `${walletData.address.substring(0, 10)}...${walletData.address.substring(32)}`, \" \\uD83D\\uDCCB\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\uD83D\\uDD11 Private Key:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 13\n        }, this), \" \", showPrivate ? walletData.privateKey : \"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowPrivate(!showPrivate),\n          style: styles.toggle,\n          children: showPrivate ? \"üôà Hide\" : \"üëÅ Show\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.flexHeader,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDCCA Balances\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleRefresh(),\n          style: styles.buttonRefresh,\n          disabled: loading.refreshing || loading.sending,\n          children: [loading.refreshing ? '‚è≥' : 'üîÑ', \" Refresh\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          listStyle: \"none\",\n          padding: 0\n        },\n        children: Object.entries(balances).map(([symbol, value]) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [symbol === \"BNB\" ? \"üí∞\" : symbol === \"USDT\" ? \"üíµ\" : \"üí∏\", \" \", symbol, \":\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 17\n          }, this)]\n        }, symbol, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: \"20px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowQR(!showQR),\n          style: styles.toggle,\n          children: showQR ? \"üôà Hide QR\" : \"üì± Show QR\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }, this), showQR && /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: qrRef,\n          style: {\n            marginTop: \"10px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(QRCodeCanvas, {\n            value: walletData.address,\n            size: 130,\n            bgColor: \"#ffffff\",\n            fgColor: \"#000000\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\uD83D\\uDCF1 Scan to pay me\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: downloadQR,\n            style: styles.buttonSmallBlue,\n            children: \"\\u2B07\\uFE0F Download\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDE80 Send Tokens\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: tokenType,\n        onChange: e => setTokenType(e.target.value),\n        style: styles.input,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"BNB\",\n          children: \"BNB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"USDT\",\n          children: \"USDT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"USDC\",\n          children: \"USDC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"\\uD83D\\uDCE4 Recipient Address\",\n        value: recipient,\n        onChange: e => setRecipient(e.target.value),\n        style: styles.input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"\\uD83D\\uDCB0 Amount\",\n        value: amount,\n        onChange: e => setAmount(e.target.value),\n        style: styles.input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: sendTokens,\n        disabled: loading.sending,\n        style: styles.buttonOrange,\n        children: loading.sending ? \"‚è≥ Processing...\" : \"üöÄ Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.flexHeader,\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginTop: \"20px\"\n          },\n          children: \"\\uD83D\\uDCDC Transaction Ledger\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 11\n      }, this), loading.ledger ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading ledger...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 29\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.ledgerContainer,\n        children: ledger.length > 0 ? ledger.map(tx => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.ledgerTx,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.ledgerRow,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Hash:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 29\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n                href: `https://testnet.bscscan.com/tx/${tx.hash}`,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                children: `${tx.hash.substring(0, 10)}...`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 52\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => copyToClipboard(tx.hash, 'Hash'),\n              style: styles.copyButton,\n              children: \"\\uD83D\\uDCCB Copy\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.ledgerRow,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"To:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 57\n              }, this), \" \", `${tx.to.substring(0, 10)}...`]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 51\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.ledgerRow,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Amount:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 57\n              }, this), \" \", tx.amount, \" \", tx.token]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 51\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.ledgerRow,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Date:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 57\n              }, this), \" \", new Date(tx.createdAt).toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 51\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 21\n          }, this)]\n        }, tx.hash, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 19\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No transactions recorded in the ledger.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          marginTop: \"20px\"\n        },\n        children: \"\\uD83D\\uDCE6 Fetch On-Chain Tx Info\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"\\uD83D\\uDD0D Paste any Tx Hash\",\n        value: txHashInput,\n        onChange: e => setTxHashInput(e.target.value),\n        style: styles.input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchTransactionDetails,\n        disabled: loading.tx,\n        style: styles.buttonPurple,\n        children: loading.tx ? \"‚è≥ Fetching...\" : \"üîç View Tx\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 11\n      }, this), txDetails && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.txBox,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Status:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 18\n          }, this), \" \", txDetails.status === 1 ? \"‚úÖ Success\" : \"‚ùå Failed\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Hash:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 18\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `https://testnet.bscscan.com/tx/${txDetails.hash}`,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children: txDetails.hash\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Block:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 18\n          }, this), \" \", txDetails.blockNumber]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"From:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 18\n          }, this), \" \", txDetails.from]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"To:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 18\n          }, this), \" \", txDetails.to]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Value:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 18\n          }, this), \" \", txDetails.value ? `${formatEther(txDetails.value)} BNB` : \"N/A\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 5\n  }, this);\n}\n\n// --- Styles (no changes) ---\n_s(App, \"By6ouZ3ESRUOj8qPpZTQFSJ15Fg=\");\n_c = App;\nconst baseButton = {/* ... */};\nconst styles = {/* ... */};\n\n// Unchanged generateAndSaveWallet, fetchLedger, fetchTransactionDetails, downloadQR can be placed here or remain inline.\n\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Wallet","isAddress","parseEther","formatEther","JsonRpcProvider","Contract","parseUnits","formatUnits","QRCodeCanvas","ToastContainer","toast","jsxDEV","_jsxDEV","ERC20_ABI","provider","TOKEN_ADDRESSES","USDT","USDC","API_URL","App","_s","walletData","setWalletData","walletName","setWalletName","searchName","setSearchName","recipient","setRecipient","amount","setAmount","tokenType","setTokenType","balances","setBalances","BNB","txHashInput","setTxHashInput","txDetails","setTxDetails","ledger","setLedger","loading","setLoading","showPrivate","setShowPrivate","showQR","setShowQR","qrRef","lastWalletData","localStorage","getItem","parsedData","JSON","parse","name","handleRefresh","setLoader","key","value","prev","notify","msg","type","theme","copyToClipboard","text","navigator","clipboard","writeText","currentWallet","showNotif","Promise","all","fetchAllBalances","address","fetchLedger","generateAndSaveWallet","fetchWalletByName","trim","res","fetch","data","json","ok","Error","error","setItem","stringify","err","removeItem","message","bnbPromise","getBalance","tokenPromises","Object","entries","map","symbol","tokenAddress","tokenContract","balance","decimals","balanceOf","bnbBalance","tokenBalances","fromEntries","e","console","sendTokens","privateKey","parseFloat","wallet","txResponse","sendTransaction","to","transfer","receipt","wait","status","logTransaction","hash","from","token","payload","walletAddress","log","method","headers","body","errData","fetchTransactionDetails","downloadQR","style","styles","container","children","position","autoClose","hideProgressBar","fileName","_jsxFileName","lineNumber","columnNumber","title","section","placeholder","onChange","target","input","onClick","disabled","creating","buttonGreen","fetching","buttonBlue","walletBox","cursor","substring","toggle","flexHeader","buttonRefresh","refreshing","sending","listStyle","padding","marginTop","ref","size","bgColor","fgColor","buttonSmallBlue","buttonOrange","ledgerContainer","length","tx","ledgerTx","ledgerRow","href","rel","copyButton","Date","createdAt","toLocaleString","buttonPurple","txBox","blockNumber","_c","baseButton","$RefreshReg$"],"sources":["/Users/tejasvigaonkar/my-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport {\n  Wallet,\n  isAddress,\n  parseEther,\n  formatEther,\n  JsonRpcProvider,\n  Contract,\n  parseUnits,\n  formatUnits,\n} from \"ethers\";\nimport { QRCodeCanvas } from \"qrcode.react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\n// --- Constants ---\nconst ERC20_ABI = [\n  \"function balanceOf(address) view returns (uint256)\",\n  \"function transfer(address to, uint256 value) returns (bool)\",\n  \"function decimals() view returns (uint8)\",\n  \"function symbol() view returns (string)\",\n];\nconst provider = new JsonRpcProvider(\"https://bsc-testnet-dataseed.bnbchain.org\");\nconst TOKEN_ADDRESSES = {\n  USDT: \"0x787A697324dbA4AB965C58CD33c13ff5eeA6295F\",\n  USDC: \"0x342e3aA1248AB77E319e3331C6fD3f1F2d4B36B1\",\n};\nconst API_URL = \"http://localhost:5001\";\n\n\nfunction App() {\n  // --- State variables ---\n  const [walletData, setWalletData] = useState(null);\n  const [walletName, setWalletName] = useState(\"\");\n  const [searchName, setSearchName] = useState(\"\");\n  const [recipient, setRecipient] = useState(\"\");\n  const [amount, setAmount] = useState(\"\");\n  const [tokenType, setTokenType] = useState(\"BNB\");\n  const [balances, setBalances] = useState({ BNB: \"...\", USDT: \"...\", USDC: \"...\" });\n  const [txHashInput, setTxHashInput] = useState(\"\");\n  const [txDetails, setTxDetails] = useState(null);\n  const [ledger, setLedger] = useState([]);\n  const [loading, setLoading] = useState({});\n  const [showPrivate, setShowPrivate] = useState(false);\n  const [showQR, setShowQR] = useState(true);\n  const qrRef = useRef();\n\n  // --- Effects ---\n  useEffect(() => {\n    const lastWalletData = localStorage.getItem(\"currentWallet\");\n    if (lastWalletData) {\n      const parsedData = JSON.parse(lastWalletData);\n      setWalletData(parsedData);\n      setSearchName(parsedData.name);\n      handleRefresh(parsedData, false); // Refresh data on load without notification\n    }\n  }, []);\n\n  // --- Helper Functions ---\n  const setLoader = (key, value) => setLoading((prev) => ({ ...prev, [key]: value }));\n  const notify = (msg, type = \"info\") => toast[type](msg, { theme: \"dark\" });\n  const copyToClipboard = (text, type) => {\n    navigator.clipboard.writeText(text);\n    notify(`üìã ${type} copied!`, \"info\");\n  };\n  \n  // --- Core Logic ---\n  const handleRefresh = async (currentWallet = walletData, showNotif = true) => {\n    if (!currentWallet) return;\n    if (showNotif) notify(\"üîÑ Refreshing data...\", \"info\");\n    setLoader(\"refreshing\", true);\n    await Promise.all([\n      fetchAllBalances(currentWallet.address),\n      fetchLedger(currentWallet.address),\n    ]);\n    setLoader(\"refreshing\", false);\n  };\n  \n  const generateAndSaveWallet = async () => {\n    // ... (unchanged)\n  };\n  \n  const fetchWalletByName = async () => {\n    if (!searchName.trim()) return notify(\"Enter wallet name to fetch\", \"error\");\n    setLoader(\"fetching\", true);\n    try {\n      const res = await fetch(`${API_URL}/api/wallet/${searchName}`);\n      const data = await res.json();\n      if (!res.ok) throw new Error(data.error);\n\n      localStorage.setItem(\"currentWallet\", JSON.stringify(data));\n      setWalletData(data);\n      await handleRefresh(data, false);\n    } catch (err) {\n      localStorage.removeItem(\"currentWallet\");\n      localStorage.removeItem(\"currentLedger\");\n      setWalletData(null);\n      setLedger([]);\n      notify(`‚ùå ${err.message}`, \"error\");\n    } finally {\n      setLoader(\"fetching\", false);\n    }\n  };\n\n  const fetchAllBalances = async (address) => {\n    setLoader(\"balance\", true);\n    try {\n        const bnbPromise = provider.getBalance(address);\n        const tokenPromises = Object.entries(TOKEN_ADDRESSES).map(async ([symbol, tokenAddress]) => {\n            const tokenContract = new Contract(tokenAddress, ERC20_ABI, provider);\n            const [balance, decimals] = await Promise.all([\n                tokenContract.balanceOf(address),\n                tokenContract.decimals()\n            ]);\n            return [symbol, formatUnits(balance, decimals)];\n        });\n\n        const [bnbBalance, tokenBalances] = await Promise.all([bnbPromise, Promise.all(tokenPromises)]);\n        setBalances({ BNB: formatEther(bnbBalance), ...Object.fromEntries(tokenBalances) });\n    } catch (e) {\n      console.error(\"Balance fetch error:\", e);\n      setBalances({ BNB: \"Error\", USDT: \"Error\", USDC: \"Error\" });\n    } finally {\n      setLoader(\"balance\", false);\n    }\n  };\n\n  const sendTokens = async () => {\n    if (!walletData?.privateKey || !isAddress(recipient) || !amount || parseFloat(amount) <= 0)\n      return notify(\"‚ùå Invalid inputs\", \"error\");\n\n    setLoader(\"sending\", true);\n    const wallet = new Wallet(walletData.privateKey, provider);\n\n    try {\n      let txResponse;\n      if (tokenType === \"BNB\") {\n        txResponse = await wallet.sendTransaction({ to: recipient, value: parseEther(amount) });\n      } else {\n        const tokenContract = new Contract(TOKEN_ADDRESSES[tokenType], ERC20_ABI, wallet);\n        const decimals = await tokenContract.decimals();\n        txResponse = await tokenContract.transfer(recipient, parseUnits(amount, decimals));\n      }\n\n      notify(\"‚è≥ Transaction sent, awaiting confirmation...\", \"info\");\n      const receipt = await txResponse.wait(); // Wait for 1 confirmation\n\n      if (receipt.status === 0) throw new Error(\"Transaction failed on-chain.\");\n\n      notify(\"‚úÖ Tx Confirmed! Now saving to ledger...\", \"success\");\n\n      // --- CRITICAL STEP: Log to backend and wait for it to finish ---\n      await logTransaction(receipt.hash, walletData.address, recipient, amount, tokenType);\n\n      notify(\"üíæ Ledger saved!\", \"success\");\n\n      // --- FINAL STEP: Clear inputs and refresh UI ---\n      setRecipient(\"\");\n      setAmount(\"\");\n      await handleRefresh();\n\n    } catch (e) {\n      console.error(\"Full transaction error:\", e);\n      notify(`‚ùå ${e.message}`, \"error\");\n    } finally {\n      setLoader(\"sending\", false);\n    }\n  };\n\n  const logTransaction = async (hash, from, to, amount, token) => {\n    const payload = { walletAddress: from, hash, from, to, amount, token };\n\n    // CRITICAL DEBUGGING LOG: Shows what the frontend is about to send.\n    console.log(\"Frontend sending to /api/ledger with payload:\", payload);\n    \n    const res = await fetch(`${API_URL}/api/ledger`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(payload),\n    });\n\n    if (!res.ok) {\n        const errData = await res.json();\n        throw new Error(errData.error || \"Failed to save transaction to backend.\");\n    }\n  };\n  \n  const fetchLedger = async (address) => {\n    // ... (unchanged)\n  };\n\n  const fetchTransactionDetails = async () => {\n    // ... (unchanged)\n  };\n  \n  const downloadQR = () => {\n    // ... (unchanged)\n  };\n  \n  return (\n    <div style={styles.container}>\n      {/* --- UI Components (JSX) --- */}\n      <ToastContainer position=\"top-right\" autoClose={4000} hideProgressBar={false} />\n      <h1 style={styles.title}>ü¶ú Goan Wallet</h1>\n\n      <section style={styles.section}>\n        <input\n          placeholder=\"üñä Create wallet name\"\n          value={walletName}\n          onChange={(e) => setWalletName(e.target.value)}\n          style={styles.input}\n        />\n        <button onClick={generateAndSaveWallet} disabled={loading.creating} style={styles.buttonGreen}>\n          {loading.creating ? \"‚è≥ Saving...\" : \"‚úÖ Generate & Save\"}\n        </button>\n      </section>\n      \n      <section style={styles.section}>\n        <input\n          placeholder=\"üîç Load wallet by name\"\n          value={searchName}\n          onChange={(e) => setSearchName(e.target.value)}\n          style={styles.input}\n        />\n        <button onClick={fetchWalletByName} disabled={loading.fetching} style={styles.buttonBlue}>\n          {loading.fetching ? \"‚è≥ Loading...\" : \"üì• Load Wallet\"}\n        </button>\n      </section>\n      \n      {walletData && (\n        <div style={styles.walletBox}>\n          <h2>{walletData.name}</h2>\n          <p style={{ cursor: \"pointer\" }} onClick={() => copyToClipboard(walletData.address, 'Address')}>\n            <strong>üè¶ Address:</strong> {`${walletData.address.substring(0,10)}...${walletData.address.substring(32)}`} üìã\n          </p>\n          <p>\n            <strong>üîë Private Key:</strong>{\" \"}\n            {showPrivate ? walletData.privateKey : \"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"}\n            <button onClick={() => setShowPrivate(!showPrivate)} style={styles.toggle}>\n              {showPrivate ? \"üôà Hide\" : \"üëÅ Show\"}\n            </button>\n          </p>\n          \n          <div style={styles.flexHeader}>\n            <h3>üìä Balances</h3>\n            <button onClick={() => handleRefresh()} style={styles.buttonRefresh} disabled={loading.refreshing || loading.sending}>\n                {loading.refreshing ? '‚è≥' : 'üîÑ'} Refresh\n            </button>\n          </div>\n          <ul style={{ listStyle: \"none\", padding: 0 }}>\n            {Object.entries(balances).map(([symbol, value]) => (\n              <li key={symbol}>\n                {symbol === \"BNB\" ? \"üí∞\" : symbol === \"USDT\" ? \"üíµ\" : \"üí∏\"} {symbol}:{\" \"}\n                <strong>{value}</strong>\n              </li>\n            ))}\n          </ul>\n          \n          <div style={{ marginTop: \"20px\" }}>\n            <button onClick={() => setShowQR(!showQR)} style={styles.toggle}>\n              {showQR ? \"üôà Hide QR\" : \"üì± Show QR\"}\n            </button>\n            {showQR && (\n              <div ref={qrRef} style={{ marginTop: \"10px\" }}>\n                <QRCodeCanvas value={walletData.address} size={130} bgColor=\"#ffffff\" fgColor=\"#000000\" />\n                <p>üì± Scan to pay me</p>\n                <button onClick={downloadQR} style={styles.buttonSmallBlue}>‚¨áÔ∏è Download</button>\n              </div>\n            )}\n          </div>\n          \n          <h3>üöÄ Send Tokens</h3>\n          <select value={tokenType} onChange={(e) => setTokenType(e.target.value)} style={styles.input}>\n            <option value=\"BNB\">BNB</option>\n            <option value=\"USDT\">USDT</option>\n            <option value=\"USDC\">USDC</option>\n          </select>\n          <input\n            placeholder=\"üì§ Recipient Address\"\n            value={recipient}\n            onChange={(e) => setRecipient(e.target.value)}\n            style={styles.input}\n          />\n          <input\n            type=\"number\"\n            placeholder=\"üí∞ Amount\"\n            value={amount}\n            onChange={(e) => setAmount(e.target.value)}\n            style={styles.input}\n          />\n          <button onClick={sendTokens} disabled={loading.sending} style={styles.buttonOrange}>\n            {loading.sending ? \"‚è≥ Processing...\" : \"üöÄ Send\"}\n          </button>\n          \n          <div style={styles.flexHeader}>\n             <h3 style={{ marginTop: \"20px\" }}>üìú Transaction Ledger</h3>\n          </div>\n          {loading.ledger ? <p>Loading ledger...</p> : (\n            <div style={styles.ledgerContainer}>\n              {ledger.length > 0 ? (\n                ledger.map((tx) => (\n                  <div key={tx.hash} style={styles.ledgerTx}>\n                    <div style={styles.ledgerRow}>\n                      <span><strong>Hash:</strong> <a href={`https://testnet.bscscan.com/tx/${tx.hash}`} target=\"_blank\" rel=\"noopener noreferrer\">{`${tx.hash.substring(0, 10)}...`}</a></span>\n                      <button onClick={() => copyToClipboard(tx.hash, 'Hash')} style={styles.copyButton}>üìã Copy</button>\n                    </div>\n                    <div style={styles.ledgerRow}><span><strong>To:</strong> {`${tx.to.substring(0, 10)}...`}</span></div>\n                    <div style={styles.ledgerRow}><span><strong>Amount:</strong> {tx.amount} {tx.token}</span></div>\n                    <div style={styles.ledgerRow}><span><strong>Date:</strong> {new Date(tx.createdAt).toLocaleString()}</span></div>\n                  </div>\n                ))\n              ) : (\n                <p>No transactions recorded in the ledger.</p>\n              )}\n            </div>\n          )}\n          \n          <h4 style={{ marginTop: \"20px\" }}>üì¶ Fetch On-Chain Tx Info</h4>\n          <input\n            placeholder=\"üîç Paste any Tx Hash\"\n            value={txHashInput}\n            onChange={(e) => setTxHashInput(e.target.value)}\n            style={styles.input}\n          />\n          <button onClick={fetchTransactionDetails} disabled={loading.tx} style={styles.buttonPurple}>\n            {loading.tx ? \"‚è≥ Fetching...\" : \"üîç View Tx\"}\n          </button>\n          \n          {txDetails && (\n            <div style={styles.txBox}>\n              <p><strong>Status:</strong> {txDetails.status === 1 ? \"‚úÖ Success\" : \"‚ùå Failed\"}</p>\n              <p><strong>Hash:</strong> <a href={`https://testnet.bscscan.com/tx/${txDetails.hash}`} target=\"_blank\" rel=\"noopener noreferrer\">{txDetails.hash}</a></p>\n              <p><strong>Block:</strong> {txDetails.blockNumber}</p>\n              <p><strong>From:</strong> {txDetails.from}</p>\n              <p><strong>To:</strong> {txDetails.to}</p>\n              <p><strong>Value:</strong> {txDetails.value ? `${formatEther(txDetails.value)} BNB` : \"N/A\"}</p>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\n\n// --- Styles (no changes) ---\nconst baseButton = { /* ... */ };\nconst styles = { /* ... */ };\n\n// Unchanged generateAndSaveWallet, fetchLedger, fetchTransactionDetails, downloadQR can be placed here or remain inline.\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}